import{S as v}from"./Sidebar-f27aa015.js";import{N as g,F as y}from"./Footer-a99f178f.js";import{a as w}from"./axios-a342f982.js";import{P as m,D as S}from"./jquery.dataTables-5bb2cc9b.js";import{_ as k,r,o as x,b as c,f as d,i as u,n as D,g as a,c as B,A as L,B as N,s as F,F as I,z as V,t as o,x as z,y as C}from"./index-ff3a5314.js";import"./sweetalert2.all-ba5903e9.js";const l=n=>(z("data-v-3ebcf4a8"),n=n(),C(),n),H={id:"wrapper"},T={id:"content-wrapper",class:"d-flex flex-column"},U={id:"content"},A={class:"container-fluid mt-4"},J=l(()=>a("h1",{class:"mb-0 fw-bold customJudul"},"Log Data",-1)),E=l(()=>a("p",null,"Semangat semoga harimu menyenangkan",-1)),M={class:"customBox mt-3"},P={class:"container-fluid"},R=l(()=>a("h6",{class:"fw-bold pt-3 mb-3",style:{"font-size":"20px"}}," Rekapitulasi Data ",-1)),W={class:"table-responsive"},$=l(()=>a("thead",null,[a("tr",null,[a("th",{scope:"col"},"No"),a("th",{scope:"col"},"Nama Usaha"),a("th",{scope:"col"},"Jenis Usaha"),a("th",{scope:"col"},"Surveyor"),a("th",{scope:"col"},"Waktu Input")])],-1)),j={scope:"row"},q={__name:"LogView",setup(n){m.use(S),r(!1);const h=r(""),p=r([]),i=r(!1),f=async()=>{try{const e=await w.get("https://api.surveiwisatadki.com/api/log",{headers:{Authorization:"Bearer "+sessionStorage.getItem("token")}});p.value=[...e.data.hotel.map(t=>({...t,type:"Hotel"})),...e.data.hiburan.map(t=>({...t,type:"Hiburan"})),...e.data.fnb.map(t=>({...t,type:"FNB"}))],i.value=!0}catch(e){console.error(e),i.value=!0}},b=e=>new Date(e).toLocaleDateString();return x(()=>{f()}),(e,t)=>(c(),d("div",H,[u(v,{class:D(h.value)},null,8,["class"]),a("div",T,[a("div",U,[u(g,{onToggleSidebar:e.toggleSidebar},null,8,["onToggleSidebar"]),a("div",A,[J,E,a("div",M,[a("div",P,[R,a("div",W,[i.value?(c(),B(N(m),{key:0,class:"table"},{default:L(()=>[$,a("tbody",null,[(c(!0),d(I,null,V(p.value,(s,_)=>(c(),d("tr",{key:_},[a("th",j,o(_+1),1),a("td",null,o(s.namaUsaha||s.namaHotel||s.namaHiburan||s.namaFnb),1),a("td",null,o(s.type),1),a("td",null,o(s.surveyor_name),1),a("td",null,o(b(s.created_at)),1)]))),128))])]),_:1})):F("",!0)])])])])]),u(y)])]))}},Z=k(q,[["__scopeId","data-v-3ebcf4a8"]]);export{Z as default};
