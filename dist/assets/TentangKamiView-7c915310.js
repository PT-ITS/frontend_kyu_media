import{k as v,o as u,c as _,b as e,a as g,n as C,d as f,q,w as M,D as T,h as n,v as d,F as w,g as k,f as j,t as h}from"./index-075d1e88.js";import{S as D,N as H,F as L}from"./Footer-96f4e189.js";import{a as m,S as V}from"./sweetalert2.all-10bdec2f.js";import{P as y,D as N}from"./jquery.dataTables-038abd49.js";import{Q as p}from"./quill.snow-2ef10f14.js";const S={id:"wrapper"},B={id:"content-wrapper",class:"d-flex flex-column"},P={id:"content"},x={class:"container-fluid my-4"},I={class:"row m-1"},A={class:"card p-3",style:{"border-radius":"25px"}},O=k('<div class="row mb-3"><div class="col-6"><div class="h5 font-weight-bold text-black">Tentang Kami</div></div><div class="d-flex justify-content-end col-6"><button class="btn btn-primary me-2" data-toggle="modal" data-target="#addData"><i class="bi bi-plus"></i> Tambah </button></div><div class="col-8"></div></div>',1),E={class:"table-responsive"},F={key:0,class:"preloader"},K=e("thead",null,[e("tr",null,[e("th",{scope:"col",style:{width:"50px"}},"No"),e("th",{scope:"col"},"Aksi"),e("th",{scope:"col"},"Header"),e("th",{scope:"col"},"Isi"),e("th",{scope:"col"},"Visi"),e("th",{scope:"col"},"Misi"),e("th",{scope:"col"},"Nilai Perusahaan"),e("th",{scope:"col"},"Project Complete"),e("th",{scope:"col"},"Happy Client"),e("th",{scope:"col"},"Awards Winning"),e("th",{scope:"col"},"Success Rate")])],-1),z=["onClick"],W=e("i",{class:"bi bi-pencil-square"},null,-1),R=[W],J=["onClick"],Q=e("i",{class:"bi bi-trash3-fill"},null,-1),G=[Q],X=["innerHTML"],Y=["innerHTML"],Z=["innerHTML"],ee=["innerHTML"],ae={class:"modal fade",id:"addData",tabindex:"-1",role:"dialog","aria-labelledby":"addDataLabel","aria-hidden":"true"},te={class:"modal-dialog",role:"document"},se={class:"modal-content"},ie=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"addDataLabel"},"Tambah Data"),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"×")])],-1),oe={class:"modal-body"},le={class:"form-group"},re=e("label",{for:"header"},"Header",-1),ne=k('<div class="form-group"><label for="isi">Isi</label><div id="isi_create_editor" style="height:200px;"></div></div><div class="form-group"><label for="visi">Visi</label><div id="visi_create_editor" style="height:200px;"></div></div><div class="form-group"><label for="misi">Misi</label><div id="misi_create_editor" style="height:200px;"></div></div><div class="form-group"><label for="nilai_perusahaan">Nilai Perusahaan</label><div id="nilai_perusahaan_create_editor" style="height:200px;"></div></div>',4),de={class:"form-group"},pe=e("label",{for:"project_complete"},"Project Complete",-1),ce={class:"form-group"},he=e("label",{for:"happy_client"},"Happy Client",-1),ue={class:"form-group"},_e=e("label",{for:"awards_winning"},"Awards Winning",-1),me={class:"form-group"},be=e("label",{for:"success_rate"},"Success Rate",-1),ge={class:"modal-footer"},ke=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Batal ",-1),ve={class:"modal fade",id:"dataUpdate",tabindex:"-1",role:"dialog","aria-labelledby":"dataUpdateLabel","aria-hidden":"true"},fe={class:"modal-dialog",role:"document"},we={class:"modal-content"},ye=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"dataUpdateLabel"},"Update Data"),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"×")])],-1),Ue={class:"modal-body"},Ce={class:"form-group"},qe=e("label",{for:"header"},"Header",-1),Me=k('<div class="form-group"><label for="isi">Isi</label><div id="isi_update_editor" style="height:200px;"></div></div><div class="form-group"><label for="visi">Visi</label><div id="visi_update_editor" style="height:200px;"></div></div><div class="form-group"><label for="misi">Misi</label><div id="misi_update_editor" style="height:200px;"></div></div><div class="form-group"><label for="nilai_perusahaan">Nilai Perusahaan</label><div id="nilai_perusahaan_update_editor" style="height:200px;"></div></div>',4),Te={class:"form-group"},je=e("label",{for:"project_complete"},"Project Complete",-1),De={class:"form-group"},He=e("label",{for:"happy_client"},"Happy Client",-1),Le={class:"form-group"},Ve=e("label",{for:"awards_winning"},"Awards Winning",-1),$e={class:"form-group"},Ne=e("label",{for:"success_rate"},"Success Rate",-1),Se={class:"modal-footer"},Be=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Batal ",-1);y.use(N);const Pe={data(){return{dataList:[],tableOptions:{pagingType:"full_numbers"},dataCreate:{header:"",isi:"",visi:"",misi:"",nilai_perusahaan:"",project_complete:"",happy_client:"",awards_winning:"",success_rate:""},dataUpdate:{id:"",header:"",isi:"",visi:"",misi:"",nilai_perusahaan:"",project_complete:"",happy_client:"",awards_winning:"",success_rate:""},ready:!1}},mounted(){this.quillCreateIsi=new p("#isi_create_editor",{theme:"snow",placeholder:"Masukkan isi",modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{align:[]}],["bold","italic","underline"],["link"],["blockquote","code-block"],[{color:[]},{background:[]}]]}}),this.quillCreateIsi.on("text-change",()=>{this.dataCreate.isi=this.quillCreateIsi.root.innerHTML}),this.quillCreateVisi=new p("#visi_create_editor",{theme:"snow",placeholder:"Masukkan isi",modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{align:[]}],["bold","italic","underline"],["link"],["blockquote","code-block"],[{color:[]},{background:[]}]]}}),this.quillCreateVisi.on("text-change",()=>{this.dataCreate.visi=this.quillCreateVisi.root.innerHTML}),this.quillCreateMisi=new p("#misi_create_editor",{theme:"snow",placeholder:"Masukkan isi",modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{align:[]}],["bold","italic","underline"],["link"],["blockquote","code-block"],[{color:[]},{background:[]}]]}}),this.quillCreateMisi.on("text-change",()=>{this.dataCreate.misi=this.quillCreateMisi.root.innerHTML}),this.quillCreateNilaiPerusahaan=new p("#nilai_perusahaan_create_editor",{theme:"snow",placeholder:"Masukkan isi",modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{align:[]}],["bold","italic","underline"],["link"],["blockquote","code-block"],[{color:[]},{background:[]}]]}}),this.quillCreateNilaiPerusahaan.on("text-change",()=>{this.dataCreate.nilai_perusahaan=this.quillCreateNilaiPerusahaan.root.innerHTML}),this.quillUpdateIsi=new p("#isi_update_editor",{theme:"snow",placeholder:"Masukkan isi",modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{align:[]}],["bold","italic","underline"],["link"],["blockquote","code-block"],[{color:[]},{background:[]}]]}}),this.quillUpdateIsi.on("text-change",()=>{this.dataUpdate.isi=this.quillUpdateIsi.root.innerHTML}),this.quillUpdateVisi=new p("#visi_update_editor",{theme:"snow",placeholder:"Masukkan isi",modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{align:[]}],["bold","italic","underline"],["link"],["blockquote","code-block"],[{color:[]},{background:[]}]]}}),this.quillUpdateVisi.on("text-change",()=>{this.dataUpdate.visi=this.quillUpdateVisi.root.innerHTML}),this.quillUpdateMisi=new p("#misi_update_editor",{theme:"snow",placeholder:"Masukkan isi",modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{align:[]}],["bold","italic","underline"],["link"],["blockquote","code-block"],[{color:[]},{background:[]}]]}}),this.quillUpdateMisi.on("text-change",()=>{this.dataUpdate.misi=this.quillUpdateMisi.root.innerHTML}),this.quillUpdateNilaiPerusahaan=new p("#nilai_perusahaan_update_editor",{theme:"snow",placeholder:"Masukkan isi",modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{align:[]}],["bold","italic","underline"],["link"],["blockquote","code-block"],[{color:[]},{background:[]}]]}}),this.quillUpdateNilaiPerusahaan.on("text-change",()=>{this.dataUpdate.nilai_perusahaan=this.quillUpdateNilaiPerusahaan.root.innerHTML})},methods:{setDataUpdate(a,i,l,r,s,o,t,c,b,U){this.dataUpdate.id=a,this.dataUpdate.header=i,this.dataUpdate.isi=l,this.quillUpdateIsi.root.innerHTML=this.dataUpdate.isi,this.dataUpdate.visi=r,this.quillUpdateVisi.root.innerHTML=this.dataUpdate.visi,this.dataUpdate.misi=s,this.quillUpdateMisi.root.innerHTML=this.dataUpdate.misi,this.dataUpdate.nilai_perusahaan=o,this.quillUpdateNilaiPerusahaan.root.innerHTML=this.dataUpdate.nilai_perusahaan,this.dataUpdate.project_complete=t,this.dataUpdate.happy_client=c,this.dataUpdate.awards_winning=b,this.dataUpdate.success_rate=U},async sendUpdateData(){try{const a=new FormData;a.append("header",this.dataUpdate.header),a.append("isi",this.dataUpdate.isi),a.append("visi",this.dataUpdate.visi),a.append("misi",this.dataUpdate.misi),a.append("nilai_perusahaan",this.dataUpdate.nilai_perusahaan),a.append("project_complete",this.dataUpdate.project_complete),a.append("happy_client",this.dataUpdate.happy_client),a.append("awards_winning",this.dataUpdate.awards_winning),a.append("success_rate",this.dataUpdate.success_rate);const i=await m.post(`https://apikyu.instinctechsolution.com/api/tentang-kami/update/${this.dataUpdate.id}`,a,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}});console.log(i.data),this.dataUpdate={id:"",header:"",isi:"",visi:"",misi:"",nilai_perusahaan:"",project_complete:"",happy_client:"",awards_winning:"",success_rate:""},this.quillUpdateIsi.setContents([]),this.quillUpdateVisi.setContents([]),this.quillUpdateMisi.setContents([]),this.quillUpdateNilaiPerusahaan.setContents([]),this.fetchData(),this.showAlert("Berhasil!","Data berhasil diupdate.","success")}catch(a){if(console.error(a),a.response&&a.response.data&&a.response.data.errors){const i=a.response.data.errors;let l=`Terjadi kesalahan:
`;for(let r in i)i.hasOwnProperty(r)&&(l+=`${i[r].join(", ")}
`);this.showError("Opps...",l,"error")}else this.showError("Opps...","Terjadi kesalahan saat menambahkan data.","error")}},async tambahData(){try{const a=new FormData;a.append("header",this.dataCreate.header),a.append("isi",this.dataCreate.isi),a.append("visi",this.dataCreate.visi),a.append("misi",this.dataCreate.misi),a.append("nilai_perusahaan",this.dataCreate.nilai_perusahaan),a.append("project_complete",this.dataCreate.project_complete),a.append("happy_client",this.dataCreate.happy_client),a.append("awards_winning",this.dataCreate.awards_winning),a.append("success_rate",this.dataCreate.success_rate);const i=await m.post("https://apikyu.instinctechsolution.com/api/tentang-kami/create",a,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}});console.log(i.data),this.dataCreate={header:"",isi:"",visi:"",misi:"",nilai_perusahaan:"",project_complete:"",happy_client:"",awards_winning:"",success_rate:""},this.quillCreateIsi.setContents([]),this.quillCreateVisi.setContents([]),this.quillCreateMisi.setContents([]),this.quillCreateNilaiPerusahaan.setContents([]),this.fetchData(),this.showAlert("Berhasil!","Data berhasil ditambahkan.","success")}catch(a){if(console.error(a),a.response&&a.response.data&&a.response.data.errors){const i=a.response.data.errors;let l=`Terjadi kesalahan:
`;for(let r in i)i.hasOwnProperty(r)&&(l+=`${i[r].join(", ")}
`);this.showError("Opps...",l,"error")}else this.showError("Opps...","Terjadi kesalahan saat menambahkan data.","error")}},async fetchData(){this.ready=!1;try{const a=await m.get("https://apikyu.instinctechsolution.com/api/tentang-kami/list",{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}});this.dataList=a.data.data,this.ready=!0}catch(a){console.error(a),this.showAlert("Opps...","Terjadi kesalahan saat mengambil data.","error")}},showAlert(a,i,l){this.$swal({title:a,text:i,icon:l}).then(()=>{$("#addData").modal("hide"),$("#dataUpdate").modal("hide")})},showError(a,i,l){this.$swal({title:a,text:i,icon:l}).then(()=>{})},async deleteData(a){try{const i=await m.delete(`https://apikyu.instinctechsolution.com/api/tentang-kami/delete/${a}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}});console.log(i.data),this.fetchData(),this.showAlert("Success","Data berhasil didelete","success")}catch(i){console.error(i),this.showAlert("Oops...","Terjadi kesalahan saat mendelete data","error")}},konfirmasi(a,i){V.fire({title:`Apakah Anda yakin ingin menghapus data ${i}?`,text:"Data akan dihapus jika anda menekan tombol Hapus.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#ee0405",cancelButtonColor:"#858796",confirmButtonText:"Hapus",cancelButtonText:"Batal"}).then(l=>{l.isConfirmed&&this.deleteData(a)})}},created(){const a=sessionStorage.getItem("token");if(a)try{const[i,l]=a.split("."),r=JSON.parse(atob(i)),s=atob(l),t=JSON.parse(atob(a.split(".")[1])).exp,c=new Date(t*1e3);console.log("Waktu Kedaluwarsa (UTC):",c.toUTCString()),new Date>c?(console.log("Keluar"),sessionStorage.removeItem("token"),this.$router.push("/login")):console.log("Aman"),this.fetchData()}catch(i){console.error("Error decoding token:",i),this.$router.push("/login")}else this.$router.push("/login")}},Fe=Object.assign(Pe,{__name:"TentangKamiView",setup(a){const i=v(!1),l=v(""),r=()=>{i.value=!i.value,l.value=i.value?"toggled":""};return(s,o)=>(u(),_(w,null,[e("div",S,[g(D,{class:C(l.value)},null,8,["class"]),e("div",B,[e("div",P,[g(H,{onToggleSidebar:r}),e("div",x,[e("div",I,[e("div",A,[O,e("div",E,[s.ready?f("",!0):(u(),_("div",F)),s.ready?(u(),q(T(y),{key:1,class:"display table table-striped",options:s.tableOptions},{default:M(()=>[K,e("tbody",null,[(u(!0),_(w,null,j(s.dataList,(t,c)=>(u(),_("tr",{key:t.id},[e("td",null,h(c+1),1),e("td",null,[e("button",{class:"btn btn-warning me-1 mb-1","data-toggle":"modal","data-target":"#dataUpdate",onClick:b=>s.setDataUpdate(t.id,t.header,t.isi,t.visi,t.misi,t.nilai_perusahaan,t.project_complete,t.happy_client,t.awards_winning,t.success_rate)},R,8,z),e("button",{class:"btn btn-danger me-1 mb-1",onClick:b=>s.konfirmasi(t.id,t.header)},G,8,J)]),e("td",null,h(t.header),1),e("td",null,[e("div",{innerHTML:t.isi},null,8,X)]),e("td",null,[e("div",{innerHTML:t.visi},null,8,Y)]),e("td",null,[e("div",{innerHTML:t.misi},null,8,Z)]),e("td",null,[e("div",{innerHTML:t.nilai_perusahaan},null,8,ee)]),e("td",null,h(t.project_complete),1),e("td",null,h(t.happy_client),1),e("td",null,h(t.awards_winning),1),e("td",null,h(t.success_rate),1)]))),128))])]),_:1},8,["options"])):f("",!0)])])])])]),g(L)])]),e("div",ae,[e("div",te,[e("div",se,[ie,e("div",oe,[e("form",null,[e("div",le,[re,n(e("input",{type:"text",class:"form-control",id:"header","onUpdate:modelValue":o[0]||(o[0]=t=>s.dataCreate.header=t),placeholder:"Masukkan header",required:""},null,512),[[d,s.dataCreate.header]])]),ne,e("div",de,[pe,n(e("input",{type:"text",class:"form-control",id:"project_complete","onUpdate:modelValue":o[1]||(o[1]=t=>s.dataCreate.project_complete=t),placeholder:"Masukkan jumlah project yang sudah terselesaikan",required:""},null,512),[[d,s.dataCreate.project_complete]])]),e("div",ce,[he,n(e("input",{type:"text",class:"form-control",id:"happy_client","onUpdate:modelValue":o[2]||(o[2]=t=>s.dataCreate.happy_client=t),placeholder:"Masukkan jumlah klien yang terpuaskan",required:""},null,512),[[d,s.dataCreate.happy_client]])]),e("div",ue,[_e,n(e("input",{type:"text",class:"form-control",id:"awards_winning","onUpdate:modelValue":o[3]||(o[3]=t=>s.dataCreate.awards_winning=t),placeholder:"Masukkan jumlah penghargaan yang dimenangkan",required:""},null,512),[[d,s.dataCreate.awards_winning]])]),e("div",me,[be,n(e("input",{type:"text",class:"form-control",id:"success_rate","onUpdate:modelValue":o[4]||(o[4]=t=>s.dataCreate.success_rate=t),placeholder:"Masukkan jumlah persentase sukses",required:""},null,512),[[d,s.dataCreate.success_rate]])])])]),e("div",ge,[ke,e("button",{type:"button",class:"btn btn-primary",onClick:o[5]||(o[5]=(...t)=>s.tambahData&&s.tambahData(...t))}," Kirim ")])])])]),e("div",ve,[e("div",fe,[e("div",we,[ye,e("div",Ue,[e("form",null,[e("div",Ce,[qe,n(e("input",{type:"text",class:"form-control",id:"header","onUpdate:modelValue":o[6]||(o[6]=t=>s.dataUpdate.header=t),required:""},null,512),[[d,s.dataUpdate.header]])]),Me,e("div",Te,[je,n(e("input",{type:"text",class:"form-control",id:"project_complete","onUpdate:modelValue":o[7]||(o[7]=t=>s.dataUpdate.project_complete=t),required:""},null,512),[[d,s.dataUpdate.project_complete]])]),e("div",De,[He,n(e("input",{type:"text",class:"form-control",id:"happy_client","onUpdate:modelValue":o[8]||(o[8]=t=>s.dataUpdate.happy_client=t),required:""},null,512),[[d,s.dataUpdate.happy_client]])]),e("div",Le,[Ve,n(e("input",{type:"text",class:"form-control",id:"awards_winning","onUpdate:modelValue":o[9]||(o[9]=t=>s.dataUpdate.awards_winning=t),required:""},null,512),[[d,s.dataUpdate.awards_winning]])]),e("div",$e,[Ne,n(e("input",{type:"text",class:"form-control",id:"success_rate","onUpdate:modelValue":o[10]||(o[10]=t=>s.dataUpdate.success_rate=t),required:""},null,512),[[d,s.dataUpdate.success_rate]])])])]),e("div",Se,[Be,e("button",{type:"button",class:"btn btn-danger",onClick:o[11]||(o[11]=(...t)=>s.sendUpdateData&&s.sendUpdateData(...t))}," Update ")])])])])],64))}});export{Fe as default};
