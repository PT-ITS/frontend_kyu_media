import{_ as L,r,b as y,f,g as a,i as m,n as N,t as i,F as I,z,j as d,v,D as g,E as j,G as E,x as F,y as H,C as R}from"./index-ff3a5314.js";import{S as J}from"./Sidebar-a0c60a62.js";import{N as q,F as W}from"./Footer-a99f178f.js";import{M as G,T as O}from"./MapsDetail-b7ba3665.js";import{a as k}from"./axios-a342f982.js";import{S as M}from"./sweetalert2.all-ba5903e9.js";import"./jquery.dataTables-5bb2cc9b.js";import"./leaflet.curve-0e7c6766.js";const e=c=>(F("data-v-44576db0"),c=c(),H(),c),Q={id:"wrapper"},X={id:"content-wrapper",class:"d-flex flex-column"},Y={id:"content"},Z={class:"container-fluid mt-4"},aa=e(()=>a("h1",{class:"mb-0 fw-bold customJudul"},"Detail Hotel",-1)),ea=e(()=>a("p",null,"Semangat semoga harimu menyenangkan",-1)),ta={class:"customBox mt-3"},sa={class:"container-fluid"},oa=e(()=>a("h6",{class:"fw-bold pt-3 mb-3"},null,-1)),la={class:"row"},na={class:"col-sm-6"},ia={class:"mb-3"},da=e(()=>a("p",null,"Nama Hotel",-1)),ra={class:"box"},ca={class:"col-sm-6"},_a=e(()=>a("div",{class:"col-sm-3"},null,-1)),ma={class:"row"},ua={class:"col-sm-6"},pa={class:"mb-3"},ha=e(()=>a("p",null,"Penanggung Jawab",-1)),va={class:"box"},ba={class:"col-sm-3"},wa={class:"mb-3"},ya=e(()=>a("p",null,"Jumlah Kamar",-1)),fa={class:"box"},ga={class:"col-sm-2"},ka={class:"mb-3"},Ka={class:"row"},xa={class:"col-sm-6"},Sa=e(()=>a("p",null,"VIP",-1)),Da={class:"box"},Na={class:"col-sm-6"},Ia=e(()=>a("p",null,"Standart",-1)),ja={class:"box"},Ma={class:"row"},Ca={class:"col-sm-4"},Va={class:"mb-3"},Aa=e(()=>a("p",null,"NIB",-1)),Ba={class:"box"},Pa={class:"col-sm-4"},Ta={class:"mb-3"},Ua=e(()=>a("p",null,"Resiko",-1)),La={class:"box"},za={class:"col-sm-4"},Ea={class:"mb-3"},Fa=e(()=>a("p",null,"Skala Usaha",-1)),Ha={class:"box"},Ra={class:"row"},Ja={class:"col-sm-6"},$a={class:"mb-3"},qa=e(()=>a("p",null,"Nomer telpon PJ",-1)),Wa={class:"box"},Ga={class:"row"},Oa={class:"col-sm-6"},Qa={class:"mb-3"},Xa=e(()=>a("p",null,"Alamat",-1)),Ya={class:"box1"},Za={class:"col-x1 col-md-2"},ae=e(()=>a("p",null,"Karyawan",-1)),ee={class:"card border-left-primary"},te={class:"card-body"},se={class:"row no-gutters align-items-center"},oe={class:"col"},le=e(()=>a("div",{class:"text-xs font-weight-bold text-primary text-uppercase"}," Laki-Laki ",-1)),ne={class:"h5 mb-@ font-weight-bold text-gray-80e"},ie=e(()=>a("div",{class:"col-auto"},[a("i",{class:"fas fa-user fa-2x text-gray-300"})],-1)),de={class:"col-x1 col-md-2"},re=e(()=>a("p",null,"Karyawan",-1)),ce={class:"card border-left-primary"},_e={class:"card-body"},me={class:"row no-gutters align-items-center"},ue={class:"col"},pe=e(()=>a("div",{class:"text-xs font-weight-bold text-primary text-uppercase"}," Wanita ",-1)),he={class:"h5 mb-@ font-weight-bold text-gray-80e"},ve=e(()=>a("div",{class:"col-auto"},[a("i",{class:"fas fa-user fa-2x text-gray-300"})],-1)),be={class:"row"},we={class:"col-sm"},ye=e(()=>a("button",{class:"btn btnCustomColor mt-3 dropdown-toggle",type:"button","data-toggle":"dropdown","aria-expanded":"false"}," Tambah Karyawan ",-1)),fe=e(()=>a("a",{class:"dropdown-item",href:"#","data-toggle":"modal","data-target":"#importKaryawan"},"Import By Excel",-1)),ge=e(()=>a("a",{class:"btn btnCustomColor ms-2 mt-3",href:"/format_data_karyawan.xlsx",download:""}," Download Contoh Import ",-1)),ke=e(()=>a("div",{class:"modal-header"},[a("h5",{class:"modal-title",id:"importKaryawanLabel"}," Import Data Karyawan "),a("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[a("span",{"aria-hidden":"true"},"×")])],-1)),Ke=e(()=>a("div",{class:"mb-3"},[a("label",{for:"fileExcel",class:"form-label"},"File Excel"),a("input",{type:"file",class:"form-control placeholder",id:"fileExcel"})],-1)),xe={class:"modal fade",id:"tambahKaryawan",tabindex:"-1",role:"dialog","aria-labelledby":"tambahKaryawanLabel","aria-hidden":"true"},Se={class:"modal-dialog",role:"document"},De={class:"modal-content"},Ne=e(()=>a("div",{class:"modal-header"},[a("h5",{class:"modal-title",id:"tambahKaryawanLabel"}," Tambah Data Karyawan "),a("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[a("span",{"aria-hidden":"true"},"×")])],-1)),Ie={class:"modal-body"},je={class:"mb-3"},Me=e(()=>a("label",{for:"namaKaryawan",class:"form-label"},"Nama Karyawan",-1)),Ce={class:"mb-3"},Ve=e(()=>a("label",{for:"pendidikanPj",class:"form-label"},"Pendidikan",-1)),Ae=R('<option selected disabled value="Pilih pendidikan" data-v-44576db0> Pilih pendidikan </option><option value="SD/MI" data-v-44576db0>SD/MI</option><option value="SMP/MTS" data-v-44576db0>SMP/MTS</option><option value="SMA/SMK/MA" data-v-44576db0>SMA/SMK/MA</option><option value="D3/S1/D4" data-v-44576db0>D3/S1/D4</option><option value="S2" data-v-44576db0>S2</option><option value="S3" data-v-44576db0>S3</option>',7),Be=[Ae],Pe={class:"mb-3"},Te=e(()=>a("label",{for:"jabatanKaryawan",class:"form-label"},"Jabatan Karyawan",-1)),Ue={class:"mb-3"},Le=e(()=>a("label",{for:"alamatKaryawan",class:"form-label"},"Alamat Karyawan",-1)),ze={class:"mb-3"},Ee=e(()=>a("label",{for:"sertifikasiKaryawan",class:"form-label"},"Sertifikasi Karyawan",-1)),Fe=e(()=>a("option",{selected:"",disabled:""},"Pilih sertifikasi",-1)),He=e(()=>a("option",{value:"1"},"Tersertifikasi",-1)),Re=e(()=>a("option",{value:"0"},"Belum Tersertifikasi",-1)),Je=[Fe,He,Re],$e={class:"mb-3"},qe=e(()=>a("label",{for:"wargaNegara",class:"form-label"},"Kewarganegaraan Karyawan",-1)),We={class:"form-check"},Ge=e(()=>a("label",{class:"form-check-label",for:"warganegara1"},"WNI",-1)),Oe={class:"form-check"},Qe=e(()=>a("label",{class:"form-check-label",for:"warganegara2"},"WNA",-1)),Xe={class:"mb-3"},Ye=e(()=>a("label",{for:"jenisKelamin",class:"form-label"},"Jenis Kelamin Karyawan",-1)),Ze=e(()=>a("option",{selected:"",disabled:""},"Pilih jenis kelamin",-1)),at=e(()=>a("option",{value:"1"},"Laki-laki",-1)),et=e(()=>a("option",{value:"0"},"Perempuan",-1)),tt=[Ze,at,et],st=e(()=>a("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Batal ",-1)),ot={__name:"HotelDetail",props:{maxStars:{type:Number,default:5},initialRating:{type:Number,default:0},starSize:{type:Number,default:40},id:{type:String,required:!0}},setup(c){const b=r(!1),K=r(""),C=()=>{b.value=!b.value,K.value=b.value?"toggled":""},x=r(0),S=r([]),n=r({}),u=r(!1),D=r(""),p=async l=>{u.value=!1;try{const s=await k.get(`https://api.surveiwisatadki.com/api/hotel/detail-hotel/${l}`,{headers:{Authorization:"Bearer "+sessionStorage.getItem("token")}});console.log("test data:",s.data.data),n.value=s.data.data,u.value=!0,x.value=n.value.hotel.bintangHotel,D.value=n.value.hotel.koordinat||"-6.2088,106.8456"}catch(s){u.value=!0,console.error(s)}},t=r({namaKaryawan:"",pendidikanKaryawan:"",jabatanKaryawan:"",alamatKaryawan:"",sertifikasiKaryawan:"",wargaNegara:"",jenisKelamin:"",hotel_id:""}),V=()=>{t.value.namaKaryawan="",t.value.pendidikanKaryawan="",t.value.jabatanKaryawan="",t.value.alamatKaryawan="",t.value.sertifikasiKaryawan="",t.value.wargaNegara="",t.value.jenisKelamin="",t.value.hotel_id=n.value.hotel.id},A=async()=>{try{const l=new FormData;l.append("namaKaryawan",t.value.namaKaryawan),l.append("pendidikanKaryawan",t.value.pendidikanKaryawan),l.append("jabatanKaryawan",t.value.jabatanKaryawan),l.append("alamatKaryawan",t.value.alamatKaryawan),l.append("sertifikasiKaryawan",t.value.sertifikasiKaryawan),l.append("wargaNegara",t.value.wargaNegara),l.append("jenisKelamin",t.value.jenisKelamin),l.append("hotel_id",t.value.hotel_id);const s=await k.post("https://api.surveiwisatadki.com/api/karyawan/input-karyawan-hotel",l,{headers:{Authorization:"Bearer "+sessionStorage.getItem("token")}});p(_.id),h("Request Success","Karyawan berhasil ditambahkan","success")}catch(l){h("Request Failed","Karyawan gagal ditambahkan","error"),console.error(l)}},B=async()=>{const s=document.getElementById("fileExcel").files[0];if(!s){M.fire("Error","Please select a file","error");return}try{const o=new FormData;o.append("file",s);const w=await k.post(`https://api.surveiwisatadki.com/api/karyawan/import-karyawan-hotel/${_.id}`,o,{headers:{Authorization:"Bearer "+sessionStorage.getItem("token"),"Content-Type":"multipart/form-data"}});p(_.id),h("Request Success","Karyawan berhasil ditambahkan","success")}catch(o){h("Request Failed","Karyawan gagal ditambahkan","error"),console.error(o)}},h=(l,s,o)=>{M.fire({title:l,text:s,icon:o}).then(()=>{$("#tambahKaryawan").modal("hide"),$("#importKaryawan").modal("hide")})},P=()=>{p(_.id)},T=()=>{const l=sessionStorage.getItem("token");if(!l)return window.location.href="/",!1;try{const[s,o]=l.split("."),w=JSON.parse(atob(o)),U=new Date(w.exp*1e3);return new Date>U?(console.log("Token expired"),sessionStorage.removeItem("token"),window.location.href="/",!1):w.level!=="0"?(window.location.href="/unauthorized",!1):!0}catch(s){return console.error("Error decoding token:",s),window.location.href="/",!1}},_=c;return T()&&(S.value=Array(_.maxStars).fill().map((l,s)=>s+1),p(_.id)),(l,s)=>(y(),f(I,null,[a("div",Q,[m(J,{class:N(K.value)},null,8,["class"]),a("div",X,[a("div",Y,[m(q,{onToggleSidebar:C}),a("div",Z,[aa,ea,a("div",ta,[a("div",sa,[oa,a("div",la,[a("div",na,[a("div",ia,[da,a("div",ra,[a("p",null,i(n.value.hotel.namaHotel),1)])])]),a("div",ca,[a("div",null,[(y(!0),f(I,null,z(S.value,o=>(y(),f("span",{key:o,class:N({filled:o<=x.value}),style:E({fontSize:c.starSize+"px"})}," ★ ",6))),128))])]),_a]),a("div",ma,[a("div",ua,[a("div",pa,[ha,a("div",va,[a("p",null,i(n.value.hotel.namaPj),1)])])]),a("div",ba,[a("div",wa,[ya,a("div",fa,[a("p",null,i(parseInt(n.value.hotel.kamarVip)+parseInt(n.value.hotel.kamarStandart)),1)])])]),a("div",ga,[a("div",ka,[a("div",Ka,[a("div",xa,[Sa,a("div",Da,[a("p",null,i(n.value.hotel.kamarVip),1)])]),a("div",Na,[Ia,a("div",ja,[a("p",null,i(n.value.hotel.kamarStandart),1)])])])])])]),a("div",Ma,[a("div",Ca,[a("div",Va,[Aa,a("div",Ba,[a("p",null,i(n.value.hotel.nib),1)])])]),a("div",Pa,[a("div",Ta,[Ua,a("div",La,[a("p",null,i(n.value.hotel.resiko),1)])])]),a("div",za,[a("div",Ea,[Fa,a("div",Ha,[a("p",null,i(n.value.hotel.skalaUsaha),1)])])])]),a("div",Ra,[a("div",Ja,[a("div",$a,[qa,a("div",Wa,[a("p",null,i(n.value.hotel.teleponPj),1)])])])]),a("div",Ga,[a("div",Oa,[a("div",Qa,[Xa,a("div",Ya,[a("p",null,i(n.value.hotel.alamat),1)])])]),a("div",Za,[ae,a("div",ee,[a("div",te,[a("div",se,[a("div",oe,[le,a("div",ne,i(n.value.lakiLaki),1)]),ie])])])]),a("div",de,[re,a("div",ce,[a("div",_e,[a("div",me,[a("div",ue,[pe,a("div",he,i(n.value.perempuan),1)]),ve])])])])]),a("div",be,[a("div",we,[m(G,{coordinates:D.value},null,8,["coordinates"])])]),a("div",{class:"row"},[a("div",{class:"col-sm-6 d-flex justify-content-start my-3"},[a("div",{class:"dropdown"},[ye,a("div",{class:"dropdown-menu"},[fe,a("a",{class:"dropdown-item",href:"#","data-toggle":"modal","data-target":"#tambahKaryawan",onClick:V},"Manual Input")])]),ge])]),m(O,{karyawanList:n.value.karyawan,ready:u.value,onUpdateData:P},null,8,["karyawanList","ready"])])])])]),m(W)])]),a("div",{class:"modal fade",id:"importKaryawan",tabindex:"-1",role:"dialog","aria-labelledby":"importKaryawanLabel","aria-hidden":"true"},[a("div",{class:"modal-dialog",role:"document"},[a("div",{class:"modal-content"},[ke,a("div",{class:"modal-body"},[a("form",{id:"karyawanForm"},[Ke,a("button",{type:"button",class:"btn btnCustomColor",onClick:B}," Import ")])])])])]),a("div",xe,[a("div",Se,[a("div",De,[Ne,a("div",Ie,[a("form",null,[d(a("input",{type:"hidden",id:"hotel_id","onUpdate:modelValue":s[0]||(s[0]=o=>t.value.hotel_id=o),value:"{{ dataHotels.hotel.id }}"},null,512),[[v,t.value.hotel_id]]),a("div",je,[Me,d(a("input",{type:"text",class:"form-control",id:"namaKaryawan",placeholder:"masukkan nama karyawan","onUpdate:modelValue":s[1]||(s[1]=o=>t.value.namaKaryawan=o)},null,512),[[v,t.value.namaKaryawan]])]),a("div",Ce,[Ve,d(a("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":s[2]||(s[2]=o=>t.value.pendidikanKaryawan=o)},Be,512),[[g,t.value.pendidikanKaryawan]])]),a("div",Pe,[Te,d(a("input",{type:"text",class:"form-control",id:"jabatanKaryawan",placeholder:"masukkan jabatan karyawan","onUpdate:modelValue":s[3]||(s[3]=o=>t.value.jabatanKaryawan=o)},null,512),[[v,t.value.jabatanKaryawan]])]),a("div",Ue,[Le,d(a("input",{type:"text",class:"form-control",id:"alamatKaryawan",placeholder:"masukkan alamat karyawan","onUpdate:modelValue":s[4]||(s[4]=o=>t.value.alamatKaryawan=o)},null,512),[[v,t.value.alamatKaryawan]])]),a("div",ze,[Ee,d(a("select",{class:"form-select",id:"sertifikasiKaryawan","onUpdate:modelValue":s[5]||(s[5]=o=>t.value.sertifikasiKaryawan=o)},Je,512),[[g,t.value.sertifikasiKaryawan]])]),a("div",$e,[qe,a("div",We,[d(a("input",{class:"form-check-input",type:"radio",id:"warganegara1",value:"WNI","onUpdate:modelValue":s[6]||(s[6]=o=>t.value.wargaNegara=o)},null,512),[[j,t.value.wargaNegara]]),Ge]),a("div",Oe,[d(a("input",{class:"form-check-input",type:"radio",id:"warganegara2",value:"WNA","onUpdate:modelValue":s[7]||(s[7]=o=>t.value.wargaNegara=o)},null,512),[[j,t.value.wargaNegara]]),Qe]),a("div",Xe,[Ye,d(a("select",{class:"form-select",id:"jenisKelamin","onUpdate:modelValue":s[8]||(s[8]=o=>t.value.jenisKelamin=o)},tt,512),[[g,t.value.jenisKelamin]])])]),a("div",{class:"modal-footer"},[st,a("button",{type:"button",class:"btn blueButton",onClick:A}," Simpan ")])])])])])])],64))}},ut=L(ot,[["__scopeId","data-v-44576db0"]]);export{ut as default};
