import{a as c}from"./axios-a342f982.js";import{_,b as r,f as u,j as p,v as g,g as t,n as d,F as h,z as i,s as b,t as a}from"./index-ff3a5314.js";const f={data(){return{search:"",currentTab:"hotel",data:{hotel:{data:[],current_page:1,prev_page_url:null,next_page_url:null},hiburan:{data:[],current_page:1,prev_page_url:null,next_page_url:null},fnb:{data:[],current_page:1,prev_page_url:null,next_page_url:null}},perPage:10}},created(){this.fetchData()},methods:{fetchData(){c.get("https://api.surveiwisatadki.com/api/rekapitulasi",{params:{per_page:this.perPage,hotel_page:this.data.hotel.current_page,hiburan_page:this.data.hiburan.current_page,fnb_page:this.data.fnb.current_page,search:this.search}}).then(s=>{this.data.hotel=s.data.data.hotel,this.data.hiburan=s.data.data.hiburan,this.data.fnb=s.data.data.fnb}).catch(s=>{console.error(s)})},changePage(s,e){e<1||(this.data[s].current_page=e,this.fetchData())}}},v={id:"app"},T=t("h1",null,"Rekapitulasi Data",-1),P={key:0},k=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"NIB"),t("th",null,"Nama Hotel"),t("th",null,"Alamat"),t("th",null,"Nama PJ"),t("th",null,"Telepon PJ")])],-1),m={key:1},y=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"NIB"),t("th",null,"Nama Hiburan"),t("th",null,"Alamat"),t("th",null,"Nama PJ"),t("th",null,"Telepon PJ")])],-1),N={key:2},x=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"NIB"),t("th",null,"Nama Fnb"),t("th",null,"Alamat"),t("th",null,"Nama PJ"),t("th",null,"Telepon PJ")])],-1),D=["disabled"],C=["disabled"];function j(s,e,I,B,n,o){return r(),u("div",v,[T,p(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>n.search=l),onInput:e[1]||(e[1]=(...l)=>o.fetchData&&o.fetchData(...l)),placeholder:"Cari..."},null,544),[[g,n.search]]),t("div",null,[t("button",{onClick:e[2]||(e[2]=l=>n.currentTab="hotel"),class:d({active:n.currentTab==="hotel"})},"Hotel",2),t("button",{onClick:e[3]||(e[3]=l=>n.currentTab="hiburan"),class:d({active:n.currentTab==="hiburan"})},"Hiburan",2),t("button",{onClick:e[4]||(e[4]=l=>n.currentTab="fnb"),class:d({active:n.currentTab==="fnb"})},"Fnb",2)]),n.currentTab==="hotel"?(r(),u("table",P,[k,t("tbody",null,[(r(!0),u(h,null,i(n.data.hotel.data,l=>(r(),u("tr",{key:l.id},[t("td",null,a(l.id),1),t("td",null,a(l.nib),1),t("td",null,a(l.namaHotel),1),t("td",null,a(l.alamat),1),t("td",null,a(l.namaPj),1),t("td",null,a(l.teleponPj),1)]))),128))])])):b("",!0),n.currentTab==="hiburan"?(r(),u("table",m,[y,t("tbody",null,[(r(!0),u(h,null,i(n.data.hiburan.data,l=>(r(),u("tr",{key:l.id},[t("td",null,a(l.id),1),t("td",null,a(l.nib),1),t("td",null,a(l.namaHiburan),1),t("td",null,a(l.alamat),1),t("td",null,a(l.namaPj),1),t("td",null,a(l.teleponPj),1)]))),128))])])):b("",!0),n.currentTab==="fnb"?(r(),u("table",N,[x,t("tbody",null,[(r(!0),u(h,null,i(n.data.fnb.data,l=>(r(),u("tr",{key:l.id},[t("td",null,a(l.id),1),t("td",null,a(l.nib),1),t("td",null,a(l.namaFnb),1),t("td",null,a(l.alamat),1),t("td",null,a(l.namaPj),1),t("td",null,a(l.teleponPj),1)]))),128))])])):b("",!0),t("div",null,[t("button",{onClick:e[5]||(e[5]=l=>o.changePage(n.currentTab,n.data[n.currentTab].current_page-1)),disabled:!n.data[n.currentTab].prev_page_url},"Prev",8,D),t("button",{onClick:e[6]||(e[6]=l=>o.changePage(n.currentTab,n.data[n.currentTab].current_page+1)),disabled:!n.data[n.currentTab].next_page_url},"Next",8,C)])])}const F=_(f,[["render",j]]);export{F as default};
