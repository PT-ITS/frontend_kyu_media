import{_ as s,L as o,b as i,f as n}from"./index-ff3a5314.js";import"./leaflet.curve-0e7c6766.js";const l={name:"LeafletMap",data(){return{map:null,marker:null}},mounted(){this.map=o.map("mapContainer"),o.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(this.map),navigator.geolocation?navigator.geolocation.getCurrentPosition(t=>{const a=t.coords.latitude,e=t.coords.longitude;this.map.setView([a,e],12),this.marker=o.marker([a,e]).addTo(this.map),this.$emit("location-selected",`${a},${e}`)},()=>{this.map.setView([-6.2088,106.8456],12),this.$emit("location-selected",`${-6.2088},${106.8456}`)}):(this.map.setView([-6.2088,106.8456],12),this.$emit("location-selected",`${-6.2088},${106.8456}`)),this.map.on("click",this.onMapClick)},methods:{onMapClick(t){this.$emit("location-selected",`${t.latlng.lat},${t.latlng.lng}`),this.marker&&this.map.removeLayer(this.marker),this.marker=o.marker(t.latlng).addTo(this.map)}},beforeUnmount(){this.map&&this.map.remove()}},r={id:"mapContainer"};function c(t,a,e,p,m,d){return i(),n("div",r)}const k=s(l,[["render",c],["__scopeId","data-v-383d6854"]]);export{k as M};
