import{_ as B,r,b as A,f as T,g as a,i as m,n as U,t as i,j as d,v,D as y,E as k,F as V,x as E,y as F,C as L}from"./index-ff3a5314.js";import{S as P}from"./Sidebar-a2ee7b5f.js";import{N as H,F as R}from"./Footer-a99f178f.js";import{M as q,T as z}from"./MapsDetail-8d599db8.js";import{a as f}from"./axios-a342f982.js";import{S as x}from"./sweetalert2.all-ba5903e9.js";import"./jquery.dataTables-5bb2cc9b.js";import"./leaflet.curve-0e7c6766.js";const e=c=>(E("data-v-59056a6f"),c=c(),F(),c),J={id:"wrapper"},W={id:"content-wrapper",class:"d-flex flex-column"},O={id:"content"},G={class:"container-fluid mt-4"},Q=e(()=>a("h1",{class:"mb-0 fw-bold customJudul"},"Detail Hiburan",-1)),X=e(()=>a("p",null,"Semangat semoga harimu menyenangkan",-1)),Y={class:"customBox mt-3"},Z={class:"container-fluid"},aa=e(()=>a("h6",{class:"fw-bold pt-3 mb-3"},null,-1)),ea={class:"row"},sa={class:"col-sm-6"},ta={class:"mb-3"},oa=e(()=>a("p",null,"Nama Usaha",-1)),na={class:"box"},la=e(()=>a("div",{class:"col-sm-6"},null,-1)),ia=e(()=>a("div",{class:"col-sm-3"},null,-1)),da={class:"row"},ra={class:"col-sm-6"},ca={class:"mb-3"},ua=e(()=>a("p",null,"Penanggung Jawab",-1)),ma={class:"box"},_a={class:"row"},pa={class:"col-sm-6"},ha={class:"mb-3"},va=e(()=>a("p",null,"Nomer Telpon",-1)),ba={class:"box"},wa={class:"row"},ya={class:"col-sm-4"},fa={class:"mb-3"},ga=e(()=>a("p",null,"NIB",-1)),Ka={class:"box"},ka={class:"col-sm-4"},xa={class:"mb-3"},Sa=e(()=>a("p",null,"Resiko",-1)),Da={class:"box"},Na={class:"col-sm-4"},Ia={class:"mb-3"},ja=e(()=>a("p",null,"Skala Usaha",-1)),Ma={class:"box"},Ca={class:"row"},Ba={class:"col-sm-6"},Aa={class:"mb-3"},Ta=e(()=>a("p",null,"Alamat",-1)),Ua={class:"box1"},Va={class:"col-x1 col-md-2"},Ea=e(()=>a("p",null,"Karyawan",-1)),Fa={class:"card border-left-primary"},La={class:"card-body"},Pa={class:"row no-gutters align-items-center"},Ha={class:"col"},$a=e(()=>a("div",{class:"text-xs font-weight-bold text-primary text-uppercase"}," Laki-Laki ",-1)),Ra={class:"h5 mb-@ font-weight-bold text-gray-80e"},qa=e(()=>a("div",{class:"col-auto"},[a("i",{class:"fas fa-user fa-2x text-gray-300"})],-1)),za={class:"col-x1 col-md-2"},Ja=e(()=>a("p",null,"Karyawan",-1)),Wa={class:"card border-left-primary"},Oa={class:"card-body"},Ga={class:"row no-gutters align-items-center"},Qa={class:"col"},Xa=e(()=>a("div",{class:"text-xs font-weight-bold text-primary text-uppercase"}," Wanita ",-1)),Ya={class:"h5 mb-@ font-weight-bold text-gray-80e"},Za=e(()=>a("div",{class:"col-auto"},[a("i",{class:"fas fa-user fa-2x text-gray-300"})],-1)),ae={class:"row"},ee={class:"col-sm"},se=e(()=>a("button",{class:"btn btnCustomColor mt-3 dropdown-toggle",type:"button","data-toggle":"dropdown","aria-expanded":"false"}," Tambah Karyawan ",-1)),te=e(()=>a("a",{class:"dropdown-item",href:"#","data-toggle":"modal","data-target":"#importKaryawan"},"Import By Excel",-1)),oe=e(()=>a("a",{class:"btn btnCustomColor ms-2 mt-3",href:"/format_data_karyawan.xlsx",download:""}," Download Contoh Import ",-1)),ne=e(()=>a("div",{class:"modal-header"},[a("h5",{class:"modal-title",id:"importKaryawanLabel"}," Import Data Karyawan "),a("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[a("span",{"aria-hidden":"true"},"×")])],-1)),le=e(()=>a("div",{class:"mb-3"},[a("label",{for:"fileExcel",class:"form-label"},"File Excel"),a("input",{type:"file",class:"form-control placeholder",id:"fileExcel"})],-1)),ie={class:"modal fade",id:"tambahKaryawan",tabindex:"-1",role:"dialog","aria-labelledby":"tambahKaryawanLabel","aria-hidden":"true"},de={class:"modal-dialog",role:"document"},re={class:"modal-content"},ce=e(()=>a("div",{class:"modal-header"},[a("h5",{class:"modal-title",id:"tambahKaryawanLabel"}," Tambah Data Karyawan "),a("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[a("span",{"aria-hidden":"true"},"×")])],-1)),ue={class:"modal-body"},me={class:"mb-3"},_e=e(()=>a("label",{for:"namaKaryawan",class:"form-label"},"Nama Karyawan",-1)),pe={class:"mb-3"},he=e(()=>a("label",{for:"pendidikanKaryawan",class:"form-label"},"Pendidikan",-1)),ve=L('<option selected disabled value="Pilih pendidikan" data-v-59056a6f> Pilih pendidikan </option><option value="SD/MI" data-v-59056a6f>SD/MI</option><option value="SMP/MTS" data-v-59056a6f>SMP/MTS</option><option value="SMA/SMK/MA" data-v-59056a6f>SMA/SMK/MA</option><option value="D3/S1/D4" data-v-59056a6f>D3/S1/D4</option><option value="S2" data-v-59056a6f>S2</option><option value="S3" data-v-59056a6f>S3</option>',7),be=[ve],we={class:"mb-3"},ye=e(()=>a("label",{for:"jabatanKaryawan",class:"form-label"},"Jabatan Karyawan",-1)),fe={class:"mb-3"},ge=e(()=>a("label",{for:"alamatKaryawan",class:"form-label"},"Alamat Karyawan",-1)),Ke={class:"mb-3"},ke=e(()=>a("label",{for:"sertifikasiKaryawan",class:"form-label"},"Sertifikasi Karyawan",-1)),xe=e(()=>a("option",{value:"1"},"Tersertifikasi",-1)),Se=e(()=>a("option",{value:"0"},"Belum Tersertifikasi",-1)),De=[xe,Se],Ne={class:"mb-3"},Ie=e(()=>a("label",{for:"wargaNegara",class:"form-label"},"Kewarganegaraan Karyawan",-1)),je={class:"form-check"},Me=e(()=>a("label",{class:"form-check-label",for:"warganegara1"},"WNI",-1)),Ce={class:"form-check"},Be=e(()=>a("label",{class:"form-check-label",for:"warganegara2"},"WNA",-1)),Ae={class:"mb-3"},Te=e(()=>a("label",{for:"jenisKelamin",class:"form-label"},"Jenis Kelamin Karyawan",-1)),Ue=e(()=>a("option",{value:"1"},"Laki-laki",-1)),Ve=e(()=>a("option",{value:"0"},"Perempuan",-1)),Ee=[Ue,Ve],Fe=e(()=>a("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Batal ",-1)),Le={__name:"HiburanDetail",props:{id:{type:String,required:!0}},setup(c){const b=r(!1),g=r(""),S=()=>{b.value=!b.value,g.value=b.value?"toggled":""},l=r({}),_=r(!1),K=r(""),p=async n=>{_.value=!1;try{const t=await f.get(`https://api.surveiwisatadki.com/api/hiburan/detail-hiburan/${n}`,{headers:{Authorization:"Bearer "+sessionStorage.getItem("token")}});console.log("test data:",t.data.data),l.value=t.data.data,_.value=!0,K.value=l.value.hiburan.koordinat||"-6.2088,106.8456"}catch(t){_.value=!0,console.error(t)}},s=r({namaKaryawan:"",pendidikanKaryawan:"",jabatanKaryawan:"",alamatKaryawan:"",sertifikasiKaryawan:"",wargaNegara:"",jenisKelamin:"",hiburan_id:""}),D=()=>{s.value.namaKaryawan="",s.value.pendidikanKaryawan="",s.value.jabatanKaryawan="",s.value.alamatKaryawan="",s.value.sertifikasiKaryawan="",s.value.wargaNegara="",s.value.jenisKelamin="",s.value.hiburan_id=l.value.hiburan.id},N=async()=>{try{const n=new FormData;n.append("namaKaryawan",s.value.namaKaryawan),n.append("pendidikanKaryawan",s.value.pendidikanKaryawan),n.append("jabatanKaryawan",s.value.jabatanKaryawan),n.append("alamatKaryawan",s.value.alamatKaryawan),n.append("sertifikasiKaryawan",s.value.sertifikasiKaryawan),n.append("wargaNegara",s.value.wargaNegara),n.append("jenisKelamin",s.value.jenisKelamin),n.append("hiburan_id",s.value.hiburan_id);const t=await f.post("https://api.surveiwisatadki.com/api/karyawan/input-karyawan-hiburan",n,{headers:{Authorization:"Bearer "+sessionStorage.getItem("token")}});p(u.id),h("Request Success","Karyawan berhasil ditambahkan","success")}catch(n){h("Request Failed","Karyawan gagal ditambahkan","error"),console.error(n)}},I=async()=>{const t=document.getElementById("fileExcel").files[0];if(!t){x.fire("Error","Please select a file","error");return}try{const o=new FormData;o.append("file",t);const w=await f.post(`https://api.surveiwisatadki.com/api/karyawan/import-karyawan-hiburan/${u.id}`,o,{headers:{Authorization:"Bearer "+sessionStorage.getItem("token"),"Content-Type":"multipart/form-data"}});p(u.id),h("Request Success","Karyawan berhasil ditambahkan","success")}catch(o){h("Request Failed","Karyawan gagal ditambahkan","error"),console.error(o)}},h=(n,t,o)=>{x.fire({title:n,text:t,icon:o}).then(()=>{$("#tambahKaryawan").modal("hide"),$("#importKaryawan").modal("hide")})},j=()=>{p(u.id)},M=()=>{const n=sessionStorage.getItem("token");if(!n)return window.location.href="/",!1;try{const[t,o]=n.split("."),w=JSON.parse(atob(o)),C=new Date(w.exp*1e3);return new Date>C?(console.log("Token expired"),sessionStorage.removeItem("token"),window.location.href="/",!1):w.level!=="2"?(window.location.href="/unauthorized",!1):!0}catch(t){return console.error("Error decoding token:",t),window.location.href="/",!1}},u=c;return M()&&p(u.id),(n,t)=>(A(),T(V,null,[a("div",J,[m(P,{class:U(g.value)},null,8,["class"]),a("div",W,[a("div",O,[m(H,{onToggleSidebar:S}),a("div",G,[Q,X,a("div",Y,[a("div",Z,[aa,a("div",ea,[a("div",sa,[a("div",ta,[oa,a("div",na,[a("p",null,i(l.value.hiburan.namaHiburan),1)])])]),la,ia]),a("div",da,[a("div",ra,[a("div",ca,[ua,a("div",ma,[a("p",null,i(l.value.hiburan.namaPj),1)])])])]),a("div",_a,[a("div",pa,[a("div",ha,[va,a("div",ba,[a("p",null,i(l.value.hiburan.teleponPj),1)])])])]),a("div",wa,[a("div",ya,[a("div",fa,[ga,a("div",Ka,[a("p",null,i(l.value.hiburan.nib),1)])])]),a("div",ka,[a("div",xa,[Sa,a("div",Da,[a("p",null,i(l.value.hiburan.resiko),1)])])]),a("div",Na,[a("div",Ia,[ja,a("div",Ma,[a("p",null,i(l.value.hiburan.skalaUsaha),1)])])])]),a("div",Ca,[a("div",Ba,[a("div",Aa,[Ta,a("div",Ua,[a("p",null,i(l.value.hiburan.alamat),1)])])]),a("div",Va,[Ea,a("div",Fa,[a("div",La,[a("div",Pa,[a("div",Ha,[$a,a("div",Ra,i(l.value.lakiLaki),1)]),qa])])])]),a("div",za,[Ja,a("div",Wa,[a("div",Oa,[a("div",Ga,[a("div",Qa,[Xa,a("div",Ya,i(l.value.perempuan),1)]),Za])])])])]),a("div",ae,[a("div",ee,[m(q,{coordinates:K.value},null,8,["coordinates"])])]),a("div",{class:"row"},[a("div",{class:"col-sm-6 d-flex justify-content-start my-3"},[a("div",{class:"dropdown"},[se,a("div",{class:"dropdown-menu"},[te,a("a",{class:"dropdown-item",href:"#","data-toggle":"modal","data-target":"#tambahKaryawan",onClick:D},"Manual Input")])]),oe])]),m(z,{karyawanList:l.value.karyawan,ready:_.value,onUpdateData:j},null,8,["karyawanList","ready"])])])])]),m(R)])]),a("div",{class:"modal fade",id:"importKaryawan",tabindex:"-1",role:"dialog","aria-labelledby":"importKaryawanLabel","aria-hidden":"true"},[a("div",{class:"modal-dialog",role:"document"},[a("div",{class:"modal-content"},[ne,a("div",{class:"modal-body"},[a("form",{id:"karyawanForm"},[le,a("button",{type:"button",class:"btn btnCustomColor",onClick:I}," Import ")])])])])]),a("div",ie,[a("div",de,[a("div",re,[ce,a("div",ue,[a("form",null,[d(a("input",{type:"hidden",id:"hotel_id","onUpdate:modelValue":t[0]||(t[0]=o=>s.value.hotel_id=o),value:"{{ dataHotels.hotel.id }}"},null,512),[[v,s.value.hotel_id]]),a("div",me,[_e,d(a("input",{type:"text",class:"form-control",id:"namaKaryawan",placeholder:"masukkan nama karyawan","onUpdate:modelValue":t[1]||(t[1]=o=>s.value.namaKaryawan=o)},null,512),[[v,s.value.namaKaryawan]])]),a("div",pe,[he,d(a("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":t[2]||(t[2]=o=>s.value.pendidikanKaryawan=o)},be,512),[[y,s.value.pendidikanKaryawan]])]),a("div",we,[ye,d(a("input",{type:"text",class:"form-control",id:"jabatanKaryawan",placeholder:"masukkan jabatan karyawan","onUpdate:modelValue":t[3]||(t[3]=o=>s.value.jabatanKaryawan=o)},null,512),[[v,s.value.jabatanKaryawan]])]),a("div",fe,[ge,d(a("input",{type:"text",class:"form-control",id:"alamatKaryawan",placeholder:"masukkan alamat karyawan","onUpdate:modelValue":t[4]||(t[4]=o=>s.value.alamatKaryawan=o)},null,512),[[v,s.value.alamatKaryawan]])]),a("div",Ke,[ke,d(a("select",{class:"form-select",id:"sertifikasiKaryawan","onUpdate:modelValue":t[5]||(t[5]=o=>s.value.sertifikasiKaryawan=o)},De,512),[[y,s.value.sertifikasiKaryawan]])]),a("div",Ne,[Ie,a("div",je,[d(a("input",{class:"form-check-input",type:"radio",id:"warganegara1",value:"WNI","onUpdate:modelValue":t[6]||(t[6]=o=>s.value.wargaNegara=o)},null,512),[[k,s.value.wargaNegara]]),Me]),a("div",Ce,[d(a("input",{class:"form-check-input",type:"radio",id:"warganegara2",value:"WNA","onUpdate:modelValue":t[7]||(t[7]=o=>s.value.wargaNegara=o)},null,512),[[k,s.value.wargaNegara]]),Be]),a("div",Ae,[Te,d(a("select",{class:"form-select",id:"jenisKelamin","onUpdate:modelValue":t[8]||(t[8]=o=>s.value.jenisKelamin=o)},Ee,512),[[y,s.value.jenisKelamin]])])]),a("div",{class:"modal-footer"},[Fe,a("button",{type:"button",class:"btn blueButton",onClick:N}," Simpan ")])])])])])])],64))}},Oe=B(Le,[["__scopeId","data-v-59056a6f"]]);export{Oe as default};
